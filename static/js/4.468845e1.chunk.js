(this["webpackJsonpcalendar-app"]=this["webpackJsonpcalendar-app"]||[]).push([[4],{202:function(t,e,a){t.exports={contactsPage:"styles_contactsPage__1MdS2",formBlock:"styles_formBlock__qbw7D",contactBlock:"styles_contactBlock__20K6O",selectContactBlock:"styles_selectContactBlock__1NeRy",contactStatusFilter:"styles_contactStatusFilter__2mIT6",active:"styles_active__2agaD",contactsToggler:"styles_contactsToggler__1eWYV",btnHolder:"styles_btnHolder__URat3"}},203:function(t,e,a){"use strict";var c=a(0),n=a.n(c);e.a=function(t){var e=t.input,a=t.type,c=t.placeholder,o=t.className,r=t.meta,i=r.touched,s=r.error,l=r.warning,m=i&&s||l?"".concat(o," error"):o;return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",Object.assign({},e,{type:a,placeholder:c,className:m})),i&&(s&&n.a.createElement("span",{className:"error-field-message"},s)||l&&n.a.createElement("span",{className:"warning-error-message"},l)))}},204:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var c=function(t){var e={};return t.contactName?t.contactName.length>15&&(e.contactName="Must be 15 characters or less"):e.contactName="This field is required!",t.contactEmail?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.contactEmail)||(e.contactEmail="Invalid email address!"):e.contactEmail="This field is required!",t.contactPhone?/^\+[0-9]{3}\s\((\d+)\)-\d{3}-\d{2}-\d{2}/i.test(t.contactPhone)||(e.contactPhone="Invalid phone number!"):e.contactPhone="This field is required!",t.userLogin?t.userLogin.length>15&&(e.userLogin="Must be 15 characters or less"):e.userLogin="This field is required!",t.userEmail?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.userEmail)||(e.userEmail="Invalid email address!"):e.userEmail="This field is required!",t.userPassword?t.userPassword.length<6&&(e.userPassword="Must be 6 characters or more"):e.userPassword="This field is required!",e}},300:function(t,e,a){t.exports={contactItem:"styles_contactItem__3HEVS",activeContact:"styles_activeContact__3xv5e",inActiveContact:"styles_inActiveContact__2C-2X",hiddenContact:"styles_hiddenContact__32Y0y",visibleContact:"styles_visibleContact__3j-wW",contactItemHolder:"styles_contactItemHolder__IdJ-8",contactData:"styles_contactData__30DQ7",contactName:"styles_contactName__13Wij",contactEmail:"styles_contactEmail__1FZhE",contactPhone:"styles_contactPhone__2HZQ9",contactHandlers:"styles_contactHandlers__1OpQT",active:"styles_active__3zILD",inActive:"styles_inActive__AObw9"}},302:function(t,e,a){"use strict";a.r(e);var c=a(227),n=a.n(c),o=a(228),r=a(0),i=a.n(r),s=a(16),l=a(31),m=a(61),u=a(3),d=m.a.firestore(),f=function(t){return function(e){d.collection("users").doc(t).collection("Contacts").onSnapshot((function(t){var a=t.docs.map((function(t){var e=t.data();return e.id=t.id,e}));e(function(t){return{type:u.f,contactsData:t}}(a))}))}},v=function(t,e,a,c){return function(n){n({type:u.n,loading:!0}),d.collection("users").doc(c).collection("Contacts").add({contactName:t,contactEmail:e,contactPhone:a,activeStatus:!0,visibility:!0}).then((function(){n({type:u.o,loading:!1,error:null})})).catch((function(t){n(function(t){return{type:u.m,error:t}}(t))}))}},E=function(t){return{type:u.e,contactsData:t}},p=a(202),b=a.n(p),h=a(230),_=a(231),N=a(196),y=a(203),C=a(204),g=Object(_.a)({form:"contactForm",validate:C.a,onSubmitSuccess:function(t,e,a){return e(Object(N.a)("contactForm"))}})((function(t){var e=t.handleSubmit,a=t.submitting,c=t.pristine;return i.a.createElement("form",{className:"form-styles",onSubmit:e},i.a.createElement("div",{className:"input-holder"},i.a.createElement("label",{className:"form-label"},"Contact Name",i.a.createElement(h.a,{type:"text",name:"contactName",className:"form-control",placeholder:"Contact Name",component:y.a}))),i.a.createElement("div",{className:"input-holder"},i.a.createElement("label",{className:"form-label"},"Contact Email",i.a.createElement(h.a,{type:"email",name:"contactEmail",className:"form-control",placeholder:"ContactEmail",component:y.a}))),i.a.createElement("div",{className:"input-holder"},i.a.createElement("label",{className:"form-label"},"Contact Phone",i.a.createElement(h.a,{type:"tel",name:"contactPhone",className:"form-control",placeholder:"+380 (XX)-XXX-XX-XX",component:y.a}))),i.a.createElement("button",{type:"submit",disabled:c||a,className:"btn btn-primary"},"Submit Contact"))})),O=a(65),j=a.n(O),S=a(300),k=a.n(S),P=a(30),x=function(t){var e=t.contactEmail,a=t.contactName,c=t.contactPhone,l=t.activeStatus,m=t.id,f=t.visibility,v=Object(r.useContext)(P.a).userData.uid,E=Object(s.c)();return i.a.createElement("li",{className:"".concat(k.a.contactItem," \n      ").concat(l?k.a.activeContact:k.a.inActiveContact,"\n      ").concat(f?k.a.visibleContact:k.a.hiddenContact,"\n      ")},i.a.createElement("div",{className:k.a.contactItemHolder},i.a.createElement("div",{className:k.a.contactData},i.a.createElement("span",{className:k.a.contactName},i.a.createElement(j.a,{icon:"account_box",size:"30"}),a),i.a.createElement("a",{href:"mailto:".concat(e),className:k.a.contactEmail},i.a.createElement(j.a,{icon:"contact_mail",size:"30"}),e),i.a.createElement("a",{href:"tel:".concat(c),className:k.a.contactPhone},i.a.createElement(j.a,{icon:"contact_phone",size:"30"}),c)),i.a.createElement("div",{className:k.a.contactHandlers},i.a.createElement("button",{onClick:function(){E(function(t,e,a){return function(){var c=Object(o.a)(n.a.mark((function c(o){return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:d.collection("users").doc(e).collection("Contacts").doc(t).update({activeStatus:!a}).then((function(){return o({type:u.b})}));case 1:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}()}(m,v,l))},className:"".concat(l?k.a.active:k.a.inActive)},i.a.createElement(j.a,{icon:"check_box",size:"30"})),i.a.createElement("button",{onClick:function(){E(function(t,e){return function(){var a=Object(o.a)(n.a.mark((function a(c){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:d.collection("users").doc(e).collection("Contacts").doc(t).delete().then((function(){return c({type:u.c})}));case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(m,v))}},i.a.createElement(j.a,{icon:"delete",size:"30"})))))},w=i.a.memo(x),A=function(t){var e=t.contacts,a=e.filter((function(t){return!0===t.visibility}));return i.a.createElement("div",{className:b.a.contactBlock},a.length>=1&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:"center"},"Your contacts:"),i.a.createElement("ul",null,e.map((function(t){var e=t.contactEmail,a=t.contactName,c=t.contactPhone,n=t.activeStatus,o=t.id,r=t.visibility;return i.a.createElement(w,{contactEmail:e,contactName:a,contactPhone:c,activeStatus:n,id:o,key:o,visibility:r})})))))},T=i.a.memo(A),D=a(53),I=a(301),H=function(t){var e=t.contacts,a=Object(r.useState)(null),c=Object(D.a)(a,2),n=c[0],o=c[1],l=Object(s.c)(),m=e.map((function(t){return t.contactEmail})).map((function(t){return{label:t,value:t}}));return i.a.createElement("div",{className:b.a.selectContactBlock},i.a.createElement("h3",{className:"center"},"Select contact by Email"),i.a.createElement(I.a,{onChange:function(t){var a=t.value;o(a);var c=e.map((function(t){return t.contactEmail!==a&&(t.visibility=!1),t}));l(function(t){return{type:u.d,contactsData:t}}(c))},defaultValue:n,options:m}))},F=i.a.memo(H),X=function(t){var e=t.contacts,a=Object(s.c)(),c=[{textContent:"Active",id:1,className:""},{textContent:"Inactive",id:2,className:""},{textContent:"All",id:3,className:"".concat(b.a.active)}],n=Object(r.useState)(c),o=Object(D.a)(n,2),l=o[0],m=o[1],u=function(t){t.preventDefault();var n=c.map((function(e){return e.className="",e.textContent===t.currentTarget.textContent&&(e.className="".concat(b.a.active)),e}));if(m(n),"Active"===t.currentTarget.textContent){var o=e.map((function(t){return t.visibility=!1,t.activeStatus&&(t.visibility=!0),t}));a(E(o))}if("Inactive"===t.currentTarget.textContent){var r=e.map((function(t){return t.visibility=!1,t.activeStatus||(t.visibility=!0),t}));a(E(r))}if("All"===t.currentTarget.textContent){var i=e.map((function(t){return t.visibility=!0,t}));a(E(i))}};return i.a.createElement("div",{className:b.a.contactStatusFilter},i.a.createElement("h3",{className:"center"},"Filter contacts by status:"),i.a.createElement("ul",{className:b.a.contactsToggler},l.map((function(t){var e=t.textContent,a=t.id,c=t.className;return i.a.createElement("li",{key:a},i.a.createElement("a",{href:"/",onClick:u,className:c},e))}))))},B=i.a.memo(X),L=a(5),Z=a(64),q=function(t){var e=t.contactList;return i.a.createElement(i.a.Fragment,null,e.length>1&&i.a.createElement(i.a.Fragment,null,i.a.createElement(F,{contacts:e}),i.a.createElement(B,{contacts:e})),e.length>0&&i.a.createElement(T,{contacts:e}))},z=function(t){var e=t.user,a=Object(s.c)(),c=Object(L.g)(),m=Object(s.d)((function(t){return Object(Z.b)(t)}));Object(r.useEffect)((function(){a(f(e.uid))}),[e,a]);return i.a.createElement("div",{className:b.a.contactsPage},i.a.createElement("div",{className:"container"},i.a.createElement("h2",{className:"center"},e&&"Hello, ".concat(e.displayName)),i.a.createElement("div",{className:b.a.formBlock},i.a.createElement("h3",{className:"center"},"Add New Contact"),i.a.createElement(g,{onSubmit:function(t){var c=t.contactName,n=t.contactEmail,o=t.contactPhone;a(v(c,n,o,e.uid))}})),m.contactsData?i.a.createElement(q,{contactList:m.contactsData}):i.a.createElement("p",null,"Loading..."),i.a.createElement("div",{className:b.a.btnHolder},i.a.createElement("button",{className:"btn",onClick:function(){function t(){return(t=Object(o.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Object(l.c)());case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(){return c.push("/")}))}},"Log Out"))))};e.default=i.a.memo(z)}}]);
//# sourceMappingURL=4.468845e1.chunk.js.map